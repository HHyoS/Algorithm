![97a65671-c63b-4e18-a6d4-d3bd496d8779](https://user-images.githubusercontent.com/57944215/216814076-d7de1e75-0354-43dd-942b-0be83e203c27.jpg)

문제 사이트 : https://softeer.ai/practice/info.do?idx=1&eid=628

문제 설명 :

    당신은 현대자동차그룹의 다양한 부서들이 사용하는 마이크로서비스들이 정상적으로 실행될 수 있도록 클러스터를 관리하는 업무를 맡고 있다.

    클러스터는 여러 대의 마이크로서버로 구성되어 있다. 
    
    각각의 마이크로서버는 정확히 1000MiB의 메모리(RAM)를 갖고 있는데, 이 중 100MiB는 예비용으로 남겨 두기 때문에,
    
    실제로 애플리케이션들이 사용할 수 있는 메모리는 총 900MiB이다. 
    
    하나의 마이크로서버에 여러 개의 마이크로서비스를 실행할 수 있는데, 이 때 마이크로서비스들이 사용하는 메모리의 총합은 900MiB를 넘을 수 없다. 
    
    현재 총 N개의 마이크로서비스가 실행 대기중이다. 이 중 i (1 ≤ i ≤ N)번째 서비스는 정확히 mi MiB의 메모리를 요구한다.
    
    각각의 서비스는 최소 300MiB, 최대 900MiB의 메모리만을 요구하고 있다. 

    모든 마이크로서비스들을 실행하기 위해 최소 몇 대의 마이크로서버가 필요한지 구하는 프로그램을 작성하라. 

제약조건

    주어지는 모든 수는 정수이다.
    하나의 입력에서 1개 이상 1,000개 이하의 테스트 케이스를 해결해야 한다.

각각의 테스트 케이스에 대해:

     * 1 ≤ N ≤ 100,000
     * 모든 i (1 ≤ i ≤ N)에 대해, 300 ≤ mi ≤ 900

하나의 입력에서 주어지는 모든 N의 합은 200,000 이하이다.

입력형식

    첫 번째 줄에 테스트 케이스의 개수 T가 주어진다.
    
    이후 아래와 같은 형식으로 2·T개의 줄에 T개의 테스트 케이스들이 주어진다.
    
    이후 해당 케이스의 정보가 이어서 첫 번째 줄에 N이 주어진다
    
    . 두 번째 줄에 m1, m2,…, mN이 공백 하나씩을 사이로 두고 주어진다. 

출력형식

    각각의 테스트 케이스에 대해, 한 줄에 하나씩, 순서대로, 필요한 최소 마이크로서버의 수를 출력한다.

입력예제1

    2
    3
    300 300 300
    4
    300 300 300 300

출력예제1

    1
    2
    
테스트 케이스 1: (서비스 1, 서비스 2, 서비스 3) 모두 한 서버에 두면 900MiB를 사용하므로 조건을 만족한다.

테스트 케이스 2: 두 대의 마이크로서버를 사서, (서비스 1, 서비스 2)를 한 서버에, 

(서비스 3, 서비스 4)를 다른 서버에 두면 각 서버에서 600MiB를 사용하므로 조건을 만족한다.

입력예제2

    3
    2
    300 400
    2
    800 900
    5
    500 501 350 400 444

출력예제2

    1
    2
    3
    
테스트 케이스 3: (서비스 1, 서비스 4), (서비스 2), (서비스 3, 서비스 5)를 각각 한 마이크로서버에서 실행하면,

각각 900MiB, 501MiB, 794MiB를 사용하여서 조건을 만족한다.

풀이 알고리즘 :

    예외 케이스에 대한 분석이 필요한 문제 '마이크로서버' 입니다.
    
    이 문제를 풀이하기에 앞서 이 문제에서 요구하는 900MiB 내에 마이크로서비스를 넣는 방법에 대해 분류해야합니다.

        case 1 : 300MiB의 마이크로 서비스가 1개의 서버를 차지

        case 2 : 300MiB, 600MiB 의 마이크로 서비스가 하나의 서버를 차지

        case 3 : 601MiB의 마이크로 서비스가 혼자서 서버를 차지하는 경우

        case 4 : 두 개의 마이크로 서비스가 하나의 서비스를 차지하는 경우
        
    case 1과 같은 경우 세개가 하나의 서버를 차지하기때문에 무조건적으로 처리해야할 조건인것 같지만,
    
    300 300 300 501 501 501 여섯개의 마이크로 서버가 있을 때, 300을 우선적으로 처리하면 (300 300 300 ) (501) (501) (501) 로 4개의 서버가 필요합니다.
    
    하지만 골고루 나눠서 서버를 차지한다면 (300 501) (300 501) (300 501)  로 세개의 서버를 차지하므로, 
    
    300의 마이크로 서비스가 존재하고, 합쳤을 때 900이 넘지 않는 서비스가 존재한다면, 300을 해당 서비스와 같이 사용하는게 서버를 최소화하는데 도움이 됩니다.
    
    하지만 300 300 300 300 400 400 400 과 같은 케이스의 경우 (300 400) * 3 + (300) 의 케이스로 4개 서버를 만드는 것보다
    
    ( 300 300 300 ) (300 400) (400) 으로 구성하는것이 서버를 줄이는데 더 효과적입니다.
    
    위의 예시를 통해 알 수 있는것은, 두 서버를 합쳣을 때 900이하라면 굳이 300을 사용하여 서버를 구성하지 않고, 300을 아낀 뒤, 마지막에 세개 이상일 때
    
    300을 하나의 서버로 구성하는것이 서버를 줄이는데 효과적이라는 것 입니다.
    
    그래서 제가 생각한 풀이는 다음과 같습니다.
    
    1. (입력) 마이크로 서비스들에 대한 정보를 배열에 입력 받은 뒤, 오름차순으로 정렬한다.
    
    2. (알고리즘) 탐색 위치의 처음과 끝을 기록할 변수를 선언하고, 끝 위치가 601 이상인 것들을 찾고.
    
      해당 값들이 존재할 경우, 끝 위치 -1, 서버갯수 +1 해주는 동작을 반복하여 끝 위치가 601보다 작아질떄까지 반복한다.
    
    3. (알고리즘) 배열의 처음과 끝 위치의 값이 각각 300 600 일경우 하나의 서버에 담고 시작위치 +1, 끝 위치 -1, 서버갯수 +1을 해준다.
       
    3. (알고리즘) 300의 갯수를 저장하는 변수 하나를 선언한 뒤, 배열의 시작위치부터 탐색하여 300이 있다면 해당 변수를 +1, 시작 위치를 +1 해줍니다.
    
    4. (알고리즘) (1) 배열의 시작위치와 끝위치 값을 합쳐서 900이하일경우 하나의 서버를 구성, ( 시작위치 +1, 끝위치 -1, 서버 +1)
                  (2) 합쳐서 900초과일경우, 300의 갯수가 1개 이상이라면 300과 조합하여 하나의 서버를 구성 ( 300갯수 -1, 끝위치 -1, 서버 +1)
                     (601이상의 모든 마이크로서버를 처리했으므로, 300과 합쳐서 900을 초과하는 마이크로 서버는 존재하지않음
                  (3) 없을경우 끝 값 하나만으로 구성된 서버를 생성 ( 끝위치 -1, 서버 +1)
    5. (알고리즘) 4 단계가 종료된 이후 , 300의 갯수를 3으로 나눈 값만큼 서버갯수 추가.
    
    6. (알고리즘) 5단계 이후, 300을 3으로 나눈 나머지 값이 존재한다면(1이상) 하나의 서버로 구성
                 
      
    
풀이 인증샷 

![image](https://user-images.githubusercontent.com/57944215/216814070-a805daf1-33e5-4444-9608-12e12ee37c98.png)

![image](https://user-images.githubusercontent.com/57944215/216814057-e4295b03-3399-4def-9a76-d4f46f36ce5e.png)
